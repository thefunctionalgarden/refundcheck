%% -*- mode: erlang -*-
[
    {kernel, [
        {logger, [
            {
                handler, 
                default, 
                logger_std_h,
                #{
                    level => info,
                    config => #{
                        file => "log/info.log"
                    }
                }
            }
        ]}
    ]},

    {refundcheck, [
        {db_host, "db-pg-1.c88fu9ryczuk.us-east-1.rds.amazonaws.com"},
        {db_user, "refundcheck_u"},
        {db_pass, "IUN878nc,.>/c7B*"},
        {http_port, "2020"},

        {auth_client_id, <<"870947371367-893nqnc503ffbgkiir8smee4e899mo6p.apps.googleusercontent.com">>},
        {auth_client_secret, undefined},

        {auth_endpoint, <<"https://accounts.google.com">>},
        {auth_rn, <<"/o/oauth2/v2/auth">>},
        {auth_token_endpoint, <<"https://oauth2.googleapis.com">>},
        {auth_token_rn, <<"/token">>},
        {auth_redirect_uri_login_callback, <<"https://sellersguard.com/login_callback">>},
        {auth_redirect_uri_home, <<"https://sellersguard.com/console">>},

        {routes, 
    [
        {"[...]",[
            {"/healthcheck",  refundcheck_healthcheck_handler, []},
        %     ]
        % },
        % {"api.sellersguard.com",[
            {"/refund_check/:api_version/customer/global/:customer_mail", refundcheck_customer_global_handler, []},
            {"/refund_check/:api_version/customer/:customer_mail",        refundcheck_customer_handler, []},
            {"/refund_check/:api_version/purchase", refundcheck_purchase_handler, []},
            {"/refund_check/:api_version/refund",   refundcheck_refund_handler,   []},
        %     ]
        % },
        % {"[...].sellersguard.com",[
            {"/login_callback", refundcheck_auth_handler, []},      % oauth login callback
            {"/login",          refundcheck_auth_handler, []},      % oauth login
            {"/console",        refundcheck_static_handler,   []},  % console
 
            {"/favicon.ico", cowboy_static, {dir,  "public"}},
            {"/css/[...]",   cowboy_static, {dir,  "public/css"}},
            {"/",            refundcheck_static_handler,   []}      % landing page
            ]
        }
    ]
        }
    ]}
].

